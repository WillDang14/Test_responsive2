<!-- 
    Responsive Image Slider | With Manual Button & Auto-play Navigation Visibility - HTML CSS Javascript

    https://www.youtube.com/watch?v=bW8X-tt5AZQ


    Keywords: "clip path generator"
    ==>> website ==>> https://bennettfeely.com/clippy/


-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Responsive Image Slider With Manual Button & Auto-play Navigation</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>    
    <div class="img-slider">

        <div class="slide active">
            <!-- <img src="images/1.jpg"> -->
            <img src="images/img1_2400.jpg">

            <div class="info">
                <h2>Slide 01</h2>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ratione itaque est, error ad facere quas? Deleniti dolore non et optio.</p>
            </div>
        </div>

        <div class="slide">
            <!-- <img src="images/2.jpg"> -->
            <img src="images/img2_2400.jpg">

            <div class="info">
                <h2>Slide 02</h2>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ratione itaque est, error ad facere quas? Deleniti dolore non et optio.</p>
            </div>
        </div>

        <div class="slide">
            <!-- <img src="images/3.jpg"> -->
            <img src="images/img3_2400.jpg">

            <div class="info">
                <h2>Slide 03</h2>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ratione itaque est, error ad facere quas? Deleniti dolore non et optio.</p>
            </div>
        </div>

        <div class="slide">
            <!-- <img src="images/4.jpg"> -->
            <img src="images/img4_2400.jpg">

            <div class="info">
                <h2>Slide 04</h2>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ratione itaque est, error ad facere quas? Deleniti dolore non et optio.</p>
            </div>
        </div>

        <div class="slide">
            <!-- <img src="images/5.jpg"> -->
            <img src="images/img5_2400.jpg">

            <div class="info">
                <h2>Slide 05</h2>
                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ratione itaque est, error ad facere quas? Deleniti dolore non et optio.</p>
            </div>
        </div>

        <div class="navigation">
            <div class="btn active"></div>
            <div class="btn"></div>
            <div class="btn"></div>
            <div class="btn"></div>
            <div class="btn"></div>
        </div>

    </div>

    <!-- //////////////////////////////////////////////////////////////////////////////////////////////// -->
    <script type="text/javascript">
        var slides = document.querySelectorAll('.slide');

        var btns = document.querySelectorAll('.btn');

        let currentSlide = 1;

        //JavaScript for image slider manual navigation
        var manualNav = function(manual) {
            slides.forEach((slide) => {
                slide.classList.remove('active');
            });

            btns.forEach((btn) => {
                btn.classList.remove('active');
            })

            slides[manual].classList.add('active');
            btns[manual].classList.add('active');
        }

        btns.forEach((btn, i) => {
            btn.addEventListener('click', () => {
                manualNav(i);
                currentSlide = i;
            })
        })

        /////////////////////////////////////////////////////////////////////////////////////////////
        //JavaScript for image slider autoplay navigation
        // Khai báo hàm repeater(), hàm này là hàm truy hồi (recursive function)
        var repeat = function(activeClass) {
            let active = document.getElementsByClassName('active');
            let i = 1;

            var repeater = () => {

                setTimeout(function() {

                    [...active].forEach( (activeSlide) => {
                        activeSlide.classList.remove('active');
                    })

                    slides[i].classList.add('active');
                    btns[i].classList.add('active');
                    i++;

                    if (slides.length == i) {
                        i = 0;
                    }
                    if (i >= slides.length) {
                        return;
                    }
                    // recursive function ==>> gọi lại chính nó
                    repeater();
                }, 5000);
            }
            
            // quay lại vòng lặp
            repeater();
        }

        // gọi lần đầu tiên
        repeat();

    </script>
</body>

</html>
